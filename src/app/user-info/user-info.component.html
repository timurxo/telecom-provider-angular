<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>




<!-- display table only if userList is resolved (is not empty) -->
<section id="user-data" *ngIf="userData">

  
  <div class="page-content page-container" id="page-content">
    <div class="padding">
      <div class="row container d-flex justify-content-center">
        <div class="col-xl-6 col-md-12">
          <div class="card user-card-full">
            <div class="row m-l-0 m-r-0">
              <div class="col-sm-4 bg-c-lite-green user-profile">
                <div class="card-block text-center text-white">
                  <div class="m-b-25">
                    <img
                      src="https://img.icons8.com/bubbles/100/000000/user.png"
                      class="img-radius"
                      alt="User-Profile-Image"
                    />
                  </div>
                  <h6 class="f-w-600">{{ userData.email }}</h6>
                    <h6>id: {{userData.user_id}}</h6> 
                </div>
              </div>
              <div class="col-sm-8">
                <div class="card-block">
                

                  <div id="user-list">
                    <!-- <h2>User's {{userList.name}} info</h2> -->

                    <h3>Your Devices</h3>
                    <h5>*You have {{ numberOfDevices }} devices  </h5>
                    <div></div>

                    <table id="user-table" class="table">
                      <tr>
                        <!-- <th>User Name</th> -->
                        <th>Device</th>
                        <th>Phone Number</th>
                        <th>Plan</th>
                        <th>Plan Price</th>
                        <th>Max Devices</th>
                        
                      </tr>

                     <!-- QUERY USERPLANS TABLE -->
              <ng-container *ngFor="let userD of userData.userPlans">

                      <!-- QUERY PHONEINFO TABLE -->
                      <tr *ngFor="let userDev of userD.phoneInfo">                    

                        <td>{{ userDev.phoneName}} </td>
                        <td>{{ userDev.phoneNumber}}</td>

                        <!-- plan information -->
                        <td>{{userD.plans.plan_id}}</td>
                        <td>${{userD.plans.cost}}</td>
                        <td>{{userD.plans.maxDevices}}</td>

                        <td>
                          <button >Update</button>
                        </td>

                        <td>
                          <button (click)="clickRemove(userDev.phone_id)">Remove</button>
                        </td>

                          <!-- {{userDev.length}} -->

                      </tr>

                        


              </ng-container>
                      
                    </table>
                  </div>

                    


                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>




    
  

  <div>
    <!-- CALL CHILD COMPONENT AND PASS DATA TO IT -->
    <!-- <app-manage-plans [someName]="userData.email"></app-manage-plans> -->
    
    
    <!-- <app-manage-plans [userData]="userData"></app-manage-plans> -->
    <!-- <app-manage-plans></app-manage-plans>  -->
  </div>
  



  

  

  
</section>
